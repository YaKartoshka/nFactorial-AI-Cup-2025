<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Postify.AI
    </title>
    <link rel="shortcut icon" href="../public/images/Favicon.png" type="image/x-icon">
    <%- include('./components/head.ejs.html') %>
        <style>
            .content-body {
                margin: 10px 0;
                max-height: 600px;
                overflow-y: auto;
                padding: 10px;
            }

            ::-webkit-scrollbar {
                width: 8px;
            }

            ::-webkit-scrollbar-thumb {
                background-color: #888;
                border-radius: 5px;
            }

            @media (max-width:576px) {
                ::-webkit-scrollbar {
                    width: 4px;
                }
            }
        </style>
        <style>
            .example-card {
                transition: transform 0.2s, box-shadow 0.2s;
                cursor: pointer;
                border-left: 4px solid #007bff;
                padding: 10px;
          
            }

            .example-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);
            }

            .category-header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white !important;
                padding: 15px;
                border-radius: 10px;
                margin-bottom: 20px;
            }

            .category-header h3{
                color: white !important;
            }

            .example-text {
                font-style: italic;
                color: #495057;
                line-height: 1.6;
            }

            .copy-btn {
                opacity: 0;
                transition: opacity 0.2s;
            }

            .example-card:hover .copy-btn {
                opacity: 1;
            }
        </style>
</head>

<body>
    <header>

        <div class="logo d-flex align-items-center">
            <i class="fa fa-bars px-2 py-0 me-3 burger-menu" style="display: none;" onclick="toggleMenu()"></i>

            <a href="/"><img src="/public/images/logo.png" width="150" alt=""></a>
        </div>

    </header>
    <main>
        <%- include('./components/nav_bar.ejs.html') %>
            <div class="content-box home-page">
                <div class="element-box">
                    <div>
                        <div class="element-info-with-icon d-flex align-items-center">
                            <div class="element-info-icon">
                                <i class="fa fa-instagram"></i>
                            </div>
                            <div class="element-info-text">
                                <h5 class="element-inner-header">Instagram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</h5>
                                <div class="element-inner-desc">Instagram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</div>
                            </div>
                        </div>
                        <div class="mt-3">
                            <ul class="nav nav-tabs" style="border: none;" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <a class="nav-link active" data-bs-toggle="tab" href="#instagram_connect_info"
                                        aria-selected="true" role="tab">
                                        –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
                                    </a>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <a class="nav-link" data-bs-toggle="tab" href="#instagram_menu_info"
                                        aria-selected="false" tabindex="-1" role="tab">
                                        –ú–µ–Ω—é
                                    </a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane active" id="instagram_connect_info" role="tabpanel">
                                    <fieldset class="form-group">

                                        <div class="table-responsive">
                                            <div id="instagram_username">
                                                <div class="table-responsive">
                                                    <table class="table table-lightborder">
                                                        <thead>
                                                            <tr>
                                                                <th>Username</th>
                                                                <th>Expires At</th>
                                                                <th>Status</th>
                                                                <th class="text-right"></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr instagram_username="qazaq.arlany">
                                                                <td></td>
                                                                <td name="expires_at"></td>
                                                                <td name="status"></td>
                                                                <td name="button"><button
                                                                        onclick="instagramDisconnect(this)"
                                                                        class="btn btn-secondary btn-sm">disconnect the
                                                                        account</button></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                    <li> –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à Instagram –∞–∫–∫–∞—É–Ω—Ç –∫ –Ω–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ <a
                                            href="https://www.instagram.com/oauth/authorize?client_id=561750103383697&amp;redirect_uri=https://2634-2a03-32c0-300c-fc1b-c5ab-c677-af3b-de75.ngrok-free.app /integrfunc/integrfunc_redirect_uri&amp;response_type=code&amp;scope=business_basic%2Cbusiness_manage_messages%2Cbusiness_manage_comments%2Cbusiness_content_publish">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                                            —Å Instagram</a><br>
                                    </li>
                                </div>
                                <div class="tab-pane fade" id="instagram_menu_info" role="tabpanel">
                                    <fieldset class="form-group">
                                        <legend><span>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ–Ω—é</span></legend>
                                        <div class="mb-3">
                                            <label class="form-label" for="">–ü—Ä–∏–≤–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</label>
                                            <textarea class="form-control" id="instagram_welcome_message"
                                                rows="3"></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label for="">–ú–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏</label>
                                            <div id="instagram_menu">
                                                <div class="row menu-option mt-2">
                                                    <div class="col-3">
                                                        <input type="text" class="form-control key"
                                                            placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ" value="—Ü–µ–Ω—ã">
                                                    </div>
                                                    <div class="col-6">
                                                        <textarea class="form-control value"
                                                            placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç"></textarea>
                                                    </div>
                                                    <div class="col-auto">
                                                        <button type="button"
                                                            class="btn btn-danger btn-sm remove-option"
                                                            onclick="removeMenuOption(this)">
                                                            <i class="fa fa-trash"></i>
                                                        </button>
                                                    </div>
                                                </div><br>
                                                <div class="row menu-option mt-2">
                                                    <div class="col-3">
                                                        <input type="text" class="form-control key"
                                                            placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ" value="–∞–¥—Ä–µ—Å">
                                                    </div>
                                                    <div class="col-6">
                                                        <textarea class="form-control value"
                                                            placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç"></textarea>
                                                    </div>
                                                    <div class="col-auto">
                                                        <button type="button"
                                                            class="btn btn-danger btn-sm remove-option"
                                                            onclick="removeMenuOption(this)">
                                                            <i class="fa fa-trash"></i>
                                                        </button>
                                                    </div>
                                                </div><br>
                                                <div class="row menu-option mt-2">
                                                    <div class="col-3">
                                                        <input type="text" class="form-control key"
                                                            placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ" value="–ø—Ä–æ–±–Ω—ã–π —É—Ä–æ–∫">
                                                    </div>
                                                    <div class="col-6">
                                                        <textarea class="form-control value"
                                                            placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç"></textarea>
                                                    </div>
                                                    <div class="col-auto">
                                                        <button type="button"
                                                            class="btn btn-danger btn-sm remove-option"
                                                            onclick="removeMenuOption(this)">
                                                            <i class="fa fa-trash"></i>
                                                        </button>
                                                    </div>
                                                </div><br>
                                            </div>
                                        </div>
                                        <button class="btn btn-secondary btn-sm" onclick="addNewInstagramMenuOption()">+
                                            –î–æ–±–∞–≤–∏—Ç—å</button>
                                        <br>
                                    </fieldset>
                                    <div class="form-buttons-w">
                                        <button class="btn btn-primary" onclick="saveInstagramSettings()"
                                            id="save_instagram_menu_btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="element-box">
                    <div id="business-form">
                        <div class="mb-3">
                            <label for="businessName" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞</label>
                            <input type="text" class="form-control" id="businessName" name="businessName" required>
                        </div>

                        <button id="start-recording" class="btn btn-success">–ù–∞—á–∞—Ç—å</button>
                        <button id="stop-recording" class="btn btn-danger" disabled>–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                        <i id="isRecording" style="display: none;">–ò–¥–µ—Ç –∑–∞–ø–∏—Å—å...</i>
                        <br> <br>
                        <audio id="audioPlayer" playsinline controls style="display: none;"></audio>

                        <button id="send-recording" class="btn btn-primary mt-2 mb-2" style="display: none;">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                        <p id="await_message" class="mt-2" style="display: none;">–û–∂–∏–¥–∞–π—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Ç–µ—á–µ–Ω–∏–∏ 10-15 —Å–µ–∫—É–Ω–¥
                        </p>

                        <div class="alert alert-info">
                            <strong>–ó–∞–ø–∏—à–∏—Ç–µ –≥–æ–ª–æ—Å–æ–º —á—Ç–æ–±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –æ –≤–∞—à–µ–º –±–∏–∑–Ω–µ—Å–µ</a>.
                        </div>

                        <div class="row mt-4">
                            <div class="col-12">
                                <h2 class="text-center mb-4">–ü—Ä–∏–º–µ—Ä—ã –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞</h2>
                            </div>
                        </div>

                        <!-- –ë–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω—ã -->
                        <div class="category-header">
                            <h3><i class="fas fa-chart-line me-2"></i>–ë–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω—ã –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</h3>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-6 mb-3">
                                <div class="card example-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title text-primary">–ö–æ—Ñ–µ–π–Ω—è –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞</h5>
                                        <p class="example-text">
                                            "–°–æ–∑–¥–∞–π –ø–æ–¥—Ä–æ–±–Ω—ã–π –±–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–æ—Ñ–µ–π–Ω–∏ –ø–ª–æ—â–∞–¥—å—é 80 –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö
                                            –º–µ—Ç—Ä–æ–≤ –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞ —Å –Ω–∞—Å–µ–ª–µ–Ω–∏–µ–º 200 —Ç—ã—Å—è—á —á–µ–ª–æ–≤–µ–∫. –í–∫–ª—é—á–∏ –∞–Ω–∞–ª–∏–∑ —Ü–µ–ª–µ–≤–æ–π
                                            –∞—É–¥–∏—Ç–æ—Ä–∏–∏, —Ä–∞—Å—á–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤—ã—Ö –≤–ª–æ–∂–µ–Ω–∏–π, –ø—Ä–æ–≥–Ω–æ–∑ –≤—ã—Ä—É—á–∫–∏ –Ω–∞ –ø–µ—Ä–≤—ã–π –≥–æ–¥, –ø–ª–∞–Ω
                                            –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞, –º–µ–Ω—é —Å —Ü–µ–Ω–∞–º–∏, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—É –∏ —Ç–æ—á–∫—É –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏."
                                        </p>
                                        <button class="btn btn-outline-primary btn-sm copy-btn"
                                            onclick="copyText(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-3">
                                <div class="card example-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title text-primary">–û–Ω–ª–∞–π–Ω-–º–∞–≥–∞–∑–∏–Ω –¥–µ—Ç—Å–∫–æ–π –æ–¥–µ–∂–¥—ã</h5>
                                        <p class="example-text">
                                            "–†–∞–∑—Ä–∞–±–æ—Ç–∞–π –±–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –¥–µ—Ç—Å–∫–æ–π –æ–¥–µ–∂–¥—ã —Å
                                            —Ñ–æ–∫—É—Å–æ–º –Ω–∞ —ç–∫–æ–ª–æ–≥–∏—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã. –û–ø–∏—à–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–æ–∏—Å–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤,
                                            –ª–æ–≥–∏—Å—Ç–∏–∫—É, —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑,
                                            –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –∏ –ø–ª–∞–Ω –ø—Ä–æ–¥–∞–∂ –Ω–∞ 18 –º–µ—Å—è—Ü–µ–≤."
                                        </p>
                                        <button class="btn btn-outline-primary btn-sm copy-btn"
                                            onclick="copyText(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ —Ä–µ–∫–ª–∞–º–∞ -->
                        <div class="category-header">
                            <h3><i class="fas fa-bullhorn me-2"></i>–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç</h3>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-6 mb-3">
                                <div class="card example-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title text-success">–ü–æ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –∫–æ—Ñ–µ</h5>
                                        <p class="example-text">
                                            "–°–æ–∑–¥–∞–π 10 –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã—Ö –∏–¥–µ–π –¥–ª—è –ø–æ—Å—Ç–æ–≤ –≤ Instagram –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –∫–æ—Ñ–µ
                                            –ø—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å–∞. –ö–∞–∂–¥—ã–π –ø–æ—Å—Ç –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å: —Ü–µ–ø–ª—è—é—â–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ
                                            –¥–æ 100 —Å–ª–æ–≤, 5 —Ö–µ—à—Ç–µ–≥–æ–≤, –ø—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é –∏ –∏–¥–µ—é –¥–ª—è –≤–∏–∑—É–∞–ª–∞. –¶–µ–ª–µ–≤–∞—è
                                            –∞—É–¥–∏—Ç–æ—Ä–∏—è - –æ—Ñ–∏—Å–Ω—ã–µ —Ä–∞–±–æ—Ç–Ω–∏–∫–∏ 25-40 –ª–µ—Ç, –∫–æ—Ç–æ—Ä—ã–µ —Ü–µ–Ω—è—Ç –∫–∞—á–µ—Å—Ç–≤–æ."
                                        </p>
                                        <button class="btn btn-outline-success btn-sm copy-btn"
                                            onclick="copyText(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-3">
                                <div class="card example-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title text-success">–ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω –¥–ª—è —Ñ–∏—Ç–Ω–µ—Å-—Å—Ç—É–¥–∏–∏</h5>
                                        <p class="example-text">
                                            "–°–æ—Å—Ç–∞–≤—å –º–µ—Å—è—á–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω –¥–ª—è —Ñ–∏—Ç–Ω–µ—Å-—Å—Ç—É–¥–∏–∏ –≤ Instagram –∏ TikTok.
                                            –í–∫–ª—é—á–∏ 30 –∏–¥–µ–π –ø–æ—Å—Ç–æ–≤: —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –º–æ—Ç–∏–≤–∞—Ü–∏—é, –ø–∏—Ç–∞–Ω–∏–µ, –∏—Å—Ç–æ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
                                            –∫–ª–∏–µ–Ω—Ç–æ–≤. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞ —É–∫–∞–∂–∏ —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ/–∫–∞—Ä—É—Å–µ–ª—å), –ª—É—á—à–µ–µ
                                            –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤–æ–≤–ª–µ—á–µ–Ω–∏—è –∞—É–¥–∏—Ç–æ—Ä–∏–∏."
                                        </p>
                                        <button class="btn btn-outline-success btn-sm copy-btn"
                                            onclick="copyText(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è -->
                        <div class="category-header">
                            <h3><i class="fas fa-chart-bar me-2"></i>–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤</h3>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-6 mb-3">
                                <div class="card example-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title text-warning">–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –µ–¥—ã</h5>
                                        <p class="example-text">
                                            "–ü—Ä–æ–≤–µ–¥–∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –µ–¥—ã –≤ –º–æ–µ–º –≥–æ—Ä–æ–¥–µ. –ò–∑—É—á–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö
                                            –∏–≥—Ä–æ–∫–æ–≤, –∏—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏, —Ü–µ–Ω–æ–≤—É—é –ø–æ–ª–∏—Ç–∏–∫—É, —Ü–µ–ª–µ–≤—ã–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏.
                                            –û–ø—Ä–µ–¥–µ–ª–∏ –Ω–µ–∑–∞–Ω—è—Ç—ã–µ –Ω–∏—à–∏, —Ä–∞—Å—Å—á–∏—Ç–∞–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ä—ã–Ω–∫–∞, –ø—Ä–µ–¥–ª–æ–∂–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤—Ö–æ–¥–∞
                                            –¥–ª—è –Ω–æ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞ —Å –±—é–¥–∂–µ—Ç–æ–º 500 —Ç—ã—Å—è—á —Ä—É–±–ª–µ–π."
                                        </p>
                                        <button class="btn btn-outline-warning btn-sm copy-btn"
                                            onclick="copyText(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-3">
                                <div class="card example-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title text-warning">SWOT-–∞–Ω–∞–ª–∏–∑ —Å–∞–ª–æ–Ω–∞ –∫—Ä–∞—Å–æ—Ç—ã</h5>
                                        <p class="example-text">
                                            "–°–æ—Å—Ç–∞–≤—å –ø–æ–¥—Ä–æ–±–Ω—ã–π SWOT-–∞–Ω–∞–ª–∏–∑ –¥–ª—è —Å–∞–ª–æ–Ω–∞ –∫—Ä–∞—Å–æ—Ç—ã –ø–ª–æ—â–∞–¥—å—é 120 –∫–≤.–º –≤
                                            —Å–ø–∞–ª—å–Ω–æ–º —Ä–∞–π–æ–Ω–µ. –û—Ü–µ–Ω–∏ —Å–∏–ª—å–Ω—ã–µ –∏ —Å–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ —É–≥—Ä–æ–∑—ã.
                                            –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –≤ —Ä–∞–¥–∏—É—Å–µ 2 –∫–º, –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—é —Ä–∞–π–æ–Ω–∞, —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å
                                            —Å–ø—Ä–æ—Å–∞ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ 2 –≥–æ–¥–∞."
                                        </p>
                                        <button class="btn btn-outline-warning btn-sm copy-btn"
                                            onclick="copyText(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- –§–∏–Ω–∞–Ω—Å—ã –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ -->
                        <div class="category-header">
                            <h3><i class="fas fa-calculator me-2"></i>–§–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-6 mb-3">
                                <div class="card example-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title text-danger">–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –º–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–æ–π–∫–∏</h5>
                                        <p class="example-text">
                                            "–ü–æ—Å—Ç—Ä–æ–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –º–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–æ–π–∫–∏ —Å–∞–º–æ–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –Ω–∞ 4 –ø–æ—Å—Ç–∞. –†–∞—Å—Å—á–∏—Ç–∞–π
                                            –∫–∞–ø–∏—Ç–∞–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã, –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã, –≤—ã—Ä—É—á–∫—É –ø–æ –º–µ—Å—è—Ü–∞–º —Å —É—á–µ—Ç–æ–º
                                            —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏, —Ç–æ—á–∫—É –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏, NPV –∏ IRR –ø—Ä–æ–µ–∫—Ç–∞. –£—á—Ç–∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞—Ä–µ–Ω–¥—ã,
                                            –∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏, —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —Ö–∏–º–∏—é –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è."
                                        </p>
                                        <button class="btn btn-outline-danger btn-sm copy-btn"
                                            onclick="copyText(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-3">
                                <div class="card example-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title text-danger">–ë—é–¥–∂–µ—Ç —Ä–µ–∫–ª–∞–º–Ω–æ–π –∫–∞–º–ø–∞–Ω–∏–∏</h5>
                                        <p class="example-text">
                                            "–°–æ—Å—Ç–∞–≤—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –º–µ–¥–∏–∞–ø–ª–∞–Ω –∏ –±—é–¥–∂–µ—Ç –¥–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
                                            —è–ø–æ–Ω—Å–∫–æ–π –∫—É—Ö–Ω–∏ —Å –±—é–¥–∂–µ—Ç–æ–º 300 —Ç—ã—Å—è—á —Ä—É–±–ª–µ–π –Ω–∞ 3 –º–µ—Å—è—Ü–∞. –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏ –±—é–¥–∂–µ—Ç
                                            –º–µ–∂–¥—É –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç, –í–ö–æ–Ω—Ç–∞–∫—Ç–µ, Instagram, –Ω–∞—Ä—É–∂–Ω–æ–π —Ä–µ–∫–ª–∞–º–æ–π. –†–∞—Å—Å—á–∏—Ç–∞–π
                                            –æ–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ ROI –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞."
                                        </p>
                                        <button class="btn btn-outline-danger btn-sm copy-btn"
                                            onclick="copyText(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å -->
                        <div class="category-header">
                            <h3><i class="fas fa-cogs me-2"></i>–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã</h3>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-6 mb-3">
                                <div class="card example-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title text-info">–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤</h5>
                                        <p class="example-text">
                                            "–†–∞–∑—Ä–∞–±–æ—Ç–∞–π –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–æ–∑–Ω–∏—á–Ω–æ–≥–æ
                                            –º–∞–≥–∞–∑–∏–Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏. –í–∫–ª—é—á–∏ —Å–∫—Ä–∏–ø—Ç—ã –æ–±—â–µ–Ω–∏—è —Å –ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º–∏, –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã
                                            —Å –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è–º–∏, –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ç–æ–≤–∞—Ä–∞, —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏
                                            KPI –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞. –û–ø–∏—à–∏ —Å–∏—Å—Ç–µ–º—É –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤."
                                        </p>
                                        <button class="btn btn-outline-info btn-sm copy-btn"
                                            onclick="copyText(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-3">
                                <div class="card example-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title text-info">–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∞—Å–∞–º–∏</h5>
                                        <p class="example-text">
                                            "–°–æ–∑–¥–∞–π —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–Ω—ã–º–∏ –∑–∞–ø–∞—Å–∞–º–∏ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞
                                            –ø–ª–æ—â–∞–¥—å—é 200 –∫–≤.–º. –û–ø–∏—à–∏ –º–µ—Ç–æ–¥—ã —É—á–µ—Ç–∞, —Ä–∞—Å—á–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∑–∞–∫–∞–∑–∞,
                                            —Ä–∞–±–æ—Ç—É —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏, –∫–æ–Ω—Ç—Ä–æ–ª—å —Å—Ä–æ–∫–æ–≤ –≥–æ–¥–Ω–æ—Å—Ç–∏, –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏ –∏
                                            –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å –ø–æ–º–æ—â—å—é –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º."
                                        </p>
                                        <button class="btn btn-outline-info btn-sm copy-btn"
                                            onclick="copyText(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- –ö–∞–¥—Ä—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
                        <div class="category-header">
                            <h3><i class="fas fa-users me-2"></i>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º</h3>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-6 mb-3">
                                <div class="card example-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title text-secondary">–ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—É—á–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞</h5>
                                        <p class="example-text">
                                            "–†–∞–∑—Ä–∞–±–æ—Ç–∞–π –ø—Ä–æ–≥—Ä–∞–º–º—É –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ call-—Ü–µ–Ω—Ç—Ä–∞ –ø–æ –ø—Ä–æ–¥–∞–∂–µ
                                            —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö —É—Å–ª—É–≥. –°–æ–∑–¥–∞–π 10-–¥–Ω–µ–≤–Ω—ã–π –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è —Å —Ç–µ–æ—Ä–∏–µ–π, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏
                                            –∑–∞–Ω—è—Ç–∏—è–º–∏, —Ä–æ–ª–µ–≤—ã–º–∏ –∏–≥—Ä–∞–º–∏, —Ç–µ—Å—Ç–∞–º–∏. –í–∫–ª—é—á–∏ –∏–∑—É—á–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, —Ç–µ—Ö–Ω–∏–∫
                                            –ø—Ä–æ–¥–∞–∂, —Ä–∞–±–æ—Ç—ã —Å CRM, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —ç—Ç–∞–ø—ã –∞—Ç—Ç–µ—Å—Ç–∞—Ü–∏–∏."
                                        </p>
                                        <button class="btn btn-outline-secondary btn-sm copy-btn"
                                            onclick="copyText(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-3">
                                <div class="card example-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title text-secondary">–°–∏—Å—Ç–µ–º–∞ –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –∏ KPI</h5>
                                        <p class="example-text">
                                            "–°–æ–∑–¥–∞–π —Å–∏—Å—Ç–µ–º—É –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –∏ KPI –¥–ª—è –∫–æ–º–∞–Ω–¥—ã –∏–∑ 15 –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º –≤
                                            IT-–∫–æ–º–ø–∞–Ω–∏–∏. –û–ø—Ä–µ–¥–µ–ª–∏ –∫–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —Å–∏—Å—Ç–µ–º—É
                                            –ø—Ä–µ–º–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–µ–º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—É—é –º–æ—Ç–∏–≤–∞—Ü–∏—é, –∫–∞—Ä—å–µ—Ä–Ω—ã–µ —Ç—Ä–µ–∫–∏, –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –æ—Ü–µ–Ω–∫–∏
                                            —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –ø–ª–∞–Ω –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞."
                                        </p>
                                        <button class="btn btn-outline-secondary btn-sm copy-btn"
                                            onclick="copyText(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-light mt-5">
                            <h5>üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:</h5>
                            <ul class="mb-0">
                                <li>–£–∫–∞–∑—ã–≤–∞–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã (–±—é–¥–∂–µ—Ç, –ø–ª–æ—â–∞–¥—å, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤)</li>
                                <li>–û–ø–∏—Å—ã–≤–∞–π—Ç–µ —Ü–µ–ª–µ–≤—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é –∏ –≥–µ–æ–≥—Ä–∞—Ñ–∏—é</li>
                                <li>–£–ø–æ–º–∏–Ω–∞–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏ –∏ –∂–µ–ª–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</li>
                                <li>–î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ –≤–∞—à–µ–º –æ–ø—ã—Ç–µ –∏ —Ä–µ—Å—É—Ä—Å–∞—Ö</li>
                                <li>–ü—Ä–æ—Å–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã (—Ç–∞–±–ª–∏—Ü—ã, —á–µ–∫-–ª–∏—Å—Ç—ã, –ø–æ—à–∞–≥–æ–≤—ã–µ –ø–ª–∞–Ω—ã)</li>
                            </ul>
                        </div>
                    </div>


                </div>
            </div>
            </div>
    </main>
    <footer></footer>






   <script>
        function copyText(button) {
            const text = button.parentElement.querySelector('.example-text').textContent.trim();
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                button.classList.replace('btn-outline-primary', 'btn-success');
                button.classList.replace('btn-outline-success', 'btn-success');
                button.classList.replace('btn-outline-warning', 'btn-success');
                button.classList.replace('btn-outline-danger', 'btn-success');
                button.classList.replace('btn-outline-info', 'btn-success');
                button.classList.replace('btn-outline-secondary', 'btn-success');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.replace('btn-success', 'btn-outline-primary');
                }, 2000);
            });
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.example-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'opacity 0.5s, transform 0.5s';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script>



        let audioContext;

        let isRecording = false;
        let audioChunks = [];
        let audioBlob;

        $(document).ready(function () {
            loading(1);
            getInstagramInfo()
            loading(0);
        });


        function getInstagramInfo() {
            $.ajax({
                url: '/integrfunc',
                method: "GET",
                data: { 'action': 'getInstagramInfo' },
                success: function (r) {
                    if (r.username) {
                        var html = '<tr instagram_username="' + r.username + '">\
                        <td>'+ r.username + '</td>\
                        <td name="expires_at">'+ (r.expires_at ? (new Date(r.expires_at).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })) : '') + '</td>\
                        <td name="status">'+ (r.status == 1 ? 'connected' : 'not connected') + '</td>\
                        <td name="button">'+ (r.status == 1 ? '<button onclick="instagramDisconnect(this)" class="btn btn-secondary btn-sm">disconnect the account</button>' : '<button onclick="instagramConnect(this)" class="btn btn-primary btn-sm">connect this account</button>') + '</td>\
                        </tr>';
                        $('#instagram_username table tbody').html(html);
                    } else if (!r.username && !r.user_id && r.status != null) {
                        $('#nav-instagram .alert-warning').show();
                    }
                }
            });
        }

        function instagramConnect(ths) {
            loading(1);
            var $t = $(ths).closest('tr');
            $.ajax({
                url: '/integrfunc',
                method: 'GET',
                data: { 'action': 'instagram_connect' },
                success: function (r) {
                    $t.find('td[name=status]').html('connected');
                    $t.find('td[name=button]').html('<button onclick="instagramDisconnect(this)" class="btn btn-secondary btn-sm">disconnect the account</button>');
                    loading(0);
                }
            });
        }

        function instagramDisconnect(ths) {
            loading(1);
            var $t = $(ths).closest('tr');
            $.ajax({
                url: '/integrfunc',
                method: 'GET',
                data: { 'action': 'instagram_disconnect' },
                success: function (r) {
                    $t.find('td[name=status]').html('disconnected');
                    $t.find('td[name=button]').html('<button onclick="instagramConnect(this)" class="btn btn-primary btn-sm">connect this account</button>');
                    loading(0);
                }
            });
        }

        function addNewInstagramMenuOption() {
            const maxOptions = 5;
            const currentOptions = $('#instagram_menu .menu-option').length;

            if (currentOptions >= maxOptions) {
                $.ambiance({
                    message: "–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ 5 –∫–Ω–æ–ø–æ–∫",
                    type: "error",
                    fade: true,
                    width: 400
                });
                return;
            }

            const newOption = `
                <div class="row menu-option mt-2">
                    <div class="col-3">
                        <input type="text" class="form-control key" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ">
                    </div>
                    <div class="col-6">
                        <textarea type="text" class="form-control value" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç"></textarea>
                    </div>
                     <div class="col-auto">
                        <button type="button" class="btn btn-danger btn-sm remove-option" onclick="removeMenuOption(this)"><i class="fa fa-trash"></i></button>
                    </div>
                </div><br>`;
            $('#instagram_menu').append(newOption);
        }

        function removeMenuOption(button) {
            $(button).closest('.menu-option').remove();
        }

        function saveInstagramSettings() {
            loading(2, el = '#save_instagram_menu_btn');
            const instagram_welcome_message = $("#instagram_welcome_message").val().trim();
            const menu_options = [];
            $('#instagram_menu .menu-option').each(function () {
                const key = $(this).find('.key').val().trim();
                const value = $(this).find('.value').val().trim();
                if (key) {
                    menu_options.push({ key, value });
                }
            });

            if (!instagram_welcome_message) {
                $.ambiance({
                    message: "–ü—Ä–∏–≤–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º",
                    type: "error",
                    fade: true,
                    width: 400
                });
                loading(20, el = '#save_instagram_menu_btn');
                return;
            }

            $.ajax({
                url: "/instagram/api",
                method: 'post',
                dataType: 'json',
                data: { action: 'updateMenu', instagram_welcome_message: instagram_welcome_message, menu_options: menu_options },
                success: function (data) {
                    if (data.r) {
                        $.ambiance({
                            message: `–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Instagram —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã`,
                            type: "success",
                            fade: true
                        });
                    }
                    loading(20, el = '#save_instagram_menu_btn');
                }
            });
        }





    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <script>
        $(() => {
            getInstagramSettings()
        })
        const { jsPDF } = window.jspdf;
        function initAudioRecording() {
            // Feature detection
            const isMediaRecorderSupported = typeof MediaRecorder !== 'undefined';
            const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);

            // Determine recording method
            let recordingMethod = isMediaRecorderSupported ? 'mediarecorder' : 'audiobuffer';

            // For Safari specifically, always use audiobuffer approach
            if (isSafari) {
                recordingMethod = 'audiobuffer';
            }

            console.log(`Using recording method: ${recordingMethod}`);

            return {
                recordingMethod,
                audioChunks: [],
                audioContext: null,
                mediaRecorder: null,
                audioProcessor: null,
                audioStream: null,
                isRecording: false
            };
        }


        async function startRecording(recorder) {
            try {
                // Reset audio chunks
                recorder.audioChunks = [];

                document.getElementById('audioPlayer').style.display = "none";
                // Get user media
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                recorder.audioStream = stream;

                if (recorder.recordingMethod === 'mediarecorder') {
                    // Standard MediaRecorder approach (Chrome, Firefox, Edge)
                    recorder.mediaRecorder = new MediaRecorder(stream);

                    recorder.mediaRecorder.ondataavailable = (event) => {
                        if (event.data.size > 0) {
                            recorder.audioChunks.push(event.data);
                        }
                    };

                    recorder.mediaRecorder.start();
                } else {
                    // AudioBuffer approach (Safari)
                    // Initialize audio context if needed
                    if (!recorder.audioContext) {
                        window.AudioContext = window.AudioContext || window.webkitAudioContext;
                        recorder.audioContext = new AudioContext();
                    }

                    // Create source from stream
                    const source = recorder.audioContext.createMediaStreamSource(stream);

                    // Create script processor for recording
                    const bufferSize = 4096;
                    recorder.audioProcessor = recorder.audioContext.createScriptProcessor(bufferSize, 1, 1);

                    // Connect nodes
                    source.connect(recorder.audioProcessor);
                    recorder.audioProcessor.connect(recorder.audioContext.destination);

                    // Process audio
                    recorder.audioProcessor.onaudioprocess = function (e) {
                        if (!recorder.isRecording) return;

                        // Get the audio data
                        const audioBuffer = e.inputBuffer.getChannelData(0);
                        const buffer = new Float32Array(audioBuffer.length);
                        for (let i = 0; i < audioBuffer.length; i++) {
                            buffer[i] = audioBuffer[i];
                        }

                        recorder.audioChunks.push(buffer);
                    };
                }

                recorder.isRecording = true;
                return true;
            } catch (error) {
                console.error('Error starting recording:', error);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π.');
                return false;
            }
        }
        let recorder = initAudioRecording();



        document.getElementById('start-recording').addEventListener('click', async function () {
            const started = await startRecording(recorder);
            if (started) {
                document.getElementById('start-recording').disabled = true;
                document.getElementById('stop-recording').disabled = false;

                document.getElementById('send-recording').style.display = "none";
                document.getElementById('isRecording').style.display = "block";
            }
        });


        document.getElementById('stop-recording').addEventListener('click', async function () {
            const audioBlob = await stopRecording(recorder);

            document.getElementById('stop-recording').disabled = true;


            if (audioBlob) {
                const audioUrl = URL.createObjectURL(audioBlob);
                document.getElementById('audioPlayer').src = audioUrl;
                document.getElementById('audioPlayer').style.display = "block";
                document.getElementById('send-recording').style.display = "block";
            }

            document.getElementById('isRecording').style.display = "none";
        });


        document.getElementById('send-recording').addEventListener('click', function () {

            document.getElementById('send-recording').disabled = true;
            document.getElementById('await_message').style.display = 'block';


            let formData = new FormData();
            let audioPlayer = document.getElementById('audioPlayer');

            fetch(audioPlayer.src)
                .then(response => response.blob())
                .then(blob => {
                    formData.append('action', "generateInfo");
                    formData.append("audio", blob, "recording.wav");
                    formData.append('businessName', document.getElementById('businessName').value);

                    $.ajax({
                        url: "/instagram/api",
                        type: "POST",
                        data: formData,
                        processData: false,
                        contentType: false,
                        success: function (data) {
                            console.log(data)
                            const plan = data.business_plan;


                            $("#result").html(data.short_description);
                            $("#result").show();
                            const doc = new jsPDF();
                            const docDefinition = {
                                content: parseTextToContent(plan),
                                styles: {
                                    sectionHeader: {
                                        fontSize: 16,
                                        bold: true,
                                        color: '#2c3e50'
                                    }
                                },
                                defaultStyle: {
                                    font: 'Roboto',
                                    fontSize: 12
                                }
                            };

                            pdfMake.createPdf(docDefinition).download("–ü–ª–∞–Ω.pdf");
                        },
                        error: function (err) {
                            console.log(err);
                            alert(JSON.stringify(err));

                            document.getElementById('send-recording').disabled = false;
                            document.getElementById('await_message').style.display = 'none';
                        }
                    });
                });
        });


        // Unified recording stop function
        function stopRecording(recorder) {
            recorder.isRecording = false;

            if (recorder.recordingMethod === 'mediarecorder' && recorder.mediaRecorder) {
                recorder.mediaRecorder.stop();

                // Stop all tracks
                if (recorder.audioStream) {
                    recorder.audioStream.getTracks().forEach(track => track.stop());
                }

                // Return a promise that resolves when the media recorder is done
                return new Promise(resolve => {
                    recorder.mediaRecorder.onstop = () => {
                        const audioBlob = new Blob(recorder.audioChunks, { type: 'audio/wav' });
                        resolve(audioBlob);
                    };
                });
            } else if (recorder.audioProcessor) {
                // Disconnect and clean up for Safari
                recorder.audioProcessor.disconnect();

                // Stop all tracks
                if (recorder.audioStream) {
                    recorder.audioStream.getTracks().forEach(track => track.stop());
                }

                // Convert audio data to WAV for Safari
                return new Promise(resolve => {
                    const wavBlob = createWavBlobFromAudioData(recorder.audioChunks, recorder.audioContext.sampleRate);
                    resolve(wavBlob);
                });
            }

            return Promise.resolve(null);
        }

        function parseTextToContent(text) {
            const lines = text.split('\n');
            const content = [];

            lines.forEach(line => {
                if (line.trim().startsWith('**') && line.trim().endsWith('**')) {
                    // –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞
                    content.push({
                        text: line.replace(/\*\*/g, '').trim(),
                        style: 'sectionHeader',
                        margin: [0, 10, 0, 5]
                    });
                } else if (line.trim().startsWith('*')) {
                    // –ü—É–Ω–∫—Ç —Å–ø–∏—Å–∫–∞
                    content.push({
                        ul: [{ text: line.replace(/^\*\s*/, '').trim() }],
                        margin: [10, 0, 0, 0]
                    });
                } else if (line.trim() !== '') {
                    // –ü—Ä–æ—Å—Ç–æ–π –∞–±–∑–∞—Ü
                    content.push({
                        text: line.trim(),
                        margin: [0, 5, 0, 0]
                    });
                }
            });

            return content;
        }


        function addNewInstagramMenuOption() {
            const maxOptions = 5;
            const currentOptions = $('#instagram_menu .menu-option').length;

            if (currentOptions >= maxOptions) {
                $.ambiance({
                    message: "–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ 5 –∫–Ω–æ–ø–æ–∫",
                    type: "error",
                    fade: true,
                    width: 400
                });
                return;
            }

            const newOption = `
                <div class="row menu-option mt-2">
                    <div class="col-3">
                        <input type="text" class="form-control key" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ">
                    </div>
                    <div class="col-6">
                        <textarea type="text" class="form-control value" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç"></textarea>
                    </div>
                     <div class="col-auto">
                        <button type="button" class="btn btn-danger btn-sm remove-option" onclick="removeMenuOption(this)"><i class="fa fa-trash"></i></button>
                    </div>
                </div><br>`;
            $('#instagram_menu').append(newOption);
        }

        function removeMenuOption(button) {
            $(button).closest('.menu-option').remove();
        }

        function saveInstagramSettings() {
            loading(2, el = '#save_instagram_menu_btn');
            const instagram_welcome_message = $("#instagram_welcome_message").val().trim();
            const menu_options = [];
            $('#instagram_menu .menu-option').each(function () {
                const key = $(this).find('.key').val().trim();
                const value = $(this).find('.value').val().trim();
                if (key) {
                    menu_options.push({ key, value });
                }
            });

            if (!instagram_welcome_message) {
                $.ambiance({
                    message: "–ü—Ä–∏–≤–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º",
                    type: "error",
                    fade: true,
                    width: 400
                });
                loading(20, el = '#save_instagram_menu_btn');
                return;
            }

            $.ajax({
                url: "/instagram/api",
                method: 'post',
                dataType: 'json',
                data: { action: 'saveMenu', instagram_welcome_message: instagram_welcome_message, menu_options: menu_options },
                success: function (data) {
                    if (data.r) {
                        $.ambiance({
                            message: `–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Instagram —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã`,
                            type: "success",
                            fade: true
                        });
                    }
                    loading(20, el = '#save_instagram_menu_btn');
                }
            });
        }

        function getInstagramSettings() {
            $.ajax({
                url: "/instagram/api",
                method: 'post',
                dataType: 'json',
                data: { action: 'getMenu' },
                success: function (instagram_settings) {
                    $("#instagram_welcome_message").val(instagram_settings.instagram_welcome_message)
                    if (instagram_settings.menu_options.length) $('#instagram_menu').html('')
                    instagram_settings.menu_options.forEach((option) => {
                        const newOption = `
                            <div class="row menu-option mt-2">
                                <div class="col-3">
                                    <input type="text" class="form-control key" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ" value="${option.key}">
                                </div>
                                <div class="col-6">
                                    <textarea class="form-control value" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç">${option.value}</textarea>
                                </div>
                                <div class="col-auto">
                                    <button type="button" class="btn btn-danger btn-sm remove-option" onclick="removeMenuOption(this)">
                                        <i class="fa fa-trash"></i>
                                    </button>
                                </div>
                            </div><br>`;
                        $('#instagram_menu').append(newOption);
                    });
                }
            });
        }


    </script>

</body>

</html>